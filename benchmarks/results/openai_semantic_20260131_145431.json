{
  "metadata": {
    "timestamp": "2026-01-31T22:54:31.602516+00:00",
    "server": "semantic",
    "base_url": "http://127.0.0.1:8399",
    "context_mode": "session",
    "api": "openai",
    "endpoint": "/v1/chat/completions",
    "machine": {
      "os": "Darwin",
      "os_version": "25.2.0",
      "chip": "arm64"
    },
    "git_sha": "de0e204",
    "runs_per_scenario": 1,
    "quick": true
  },
  "experiments": {
    "1_cold_start": {
      "cold_short": {
        "stream_runs": [
          {
            "scenario": "cold_short",
            "config": "semantic",
            "ttft_ms": 460.1024159928784,
            "e2e_ms": 1034.8415409680456,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 8.980298827736988,
            "decode_tps": 111.35486905083285,
            "overall_tps": 111.35486905083285,
            "output_tokens": 64,
            "input_tokens": 0,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 9081.9,
            "raw_output": "fixed size and allocated per-layer per-agent from a shared pool. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. Subsequent requests retrieve the cache from disk and reconstruct the quantized KV blocks. This architecture supports efficient memoryy management",
            "error": null
          }
        ],
        "nonstream_runs": [
          {
            "scenario": "cold_short",
            "config": "semantic",
            "ttft_ms": 888.7312089791521,
            "e2e_ms": 888.7312089791521,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 13.886425140299252,
            "decode_tps": 72.01277433872733,
            "overall_tps": 72.01277433872733,
            "output_tokens": 64,
            "input_tokens": 153,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "fixed size and allocated per-layer per-agent from a shared pool. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. Subsequent requests retrieve the cache from disk and reconstruct the quantized KV blocks. This architecture supports efficient memory management",
            "error": null
          }
        ],
        "stats": {
          "ttft_ms": {
            "mean": 460.1024159928784,
            "median": 460.1024159928784,
            "p95": 460.1024159928784,
            "p99": 460.1024159928784
          },
          "e2e_ms": {
            "mean": 888.7312089791521,
            "median": 888.7312089791521,
            "p95": 888.7312089791521,
            "p99": 888.7312089791521
          },
          "decode_tps": {
            "mean": 72.01277433872733,
            "median": 72.01277433872733,
            "p95": 72.01277433872733,
            "p99": 72.01277433872733
          },
          "peak_memory_mb": {
            "mean": 9081.9,
            "median": 9081.9,
            "p95": 9081.9,
            "p99": 9081.9
          }
        }
      },
      "cold_medium": {
        "stream_runs": [
          {
            "scenario": "cold_medium",
            "config": "semantic",
            "ttft_ms": 1516.3798339781351,
            "e2e_ms": 2341.6904589976184,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 12.895478515929426,
            "decode_tps": 77.54656011909351,
            "overall_tps": 77.54656011909351,
            "output_tokens": 64,
            "input_tokens": 0,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 9308.1,
            "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensorss serialization",
            "error": null
          }
        ],
        "nonstream_runs": [
          {
            "scenario": "cold_medium",
            "config": "semantic",
            "ttft_ms": 2310.4545419919305,
            "e2e_ms": 2310.4545419919305,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 36.10085221862391,
            "decode_tps": 27.70017710230437,
            "overall_tps": 27.70017710230437,
            "output_tokens": 64,
            "input_tokens": 1449,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
            "error": null
          }
        ],
        "stats": {
          "ttft_ms": {
            "mean": 1516.3798339781351,
            "median": 1516.3798339781351,
            "p95": 1516.3798339781351,
            "p99": 1516.3798339781351
          },
          "e2e_ms": {
            "mean": 2310.4545419919305,
            "median": 2310.4545419919305,
            "p95": 2310.4545419919305,
            "p99": 2310.4545419919305
          },
          "decode_tps": {
            "mean": 27.70017710230437,
            "median": 27.70017710230437,
            "p95": 27.70017710230437,
            "p99": 27.70017710230437
          },
          "peak_memory_mb": {
            "mean": 9308.1,
            "median": 9308.1,
            "p95": 9308.1,
            "p99": 9308.1
          }
        }
      }
    },
    "2_warm_cache": {
      "warm_r0": {
        "cold": {
          "scenario": "",
          "config": "",
          "ttft_ms": 2374.8116249917075,
          "e2e_ms": 2374.8116249917075,
          "itl_mean_ms": 0.0,
          "itl_p95_ms": 0.0,
          "itl_p99_ms": 0.0,
          "tpot_ms": 37.10643164049543,
          "decode_tps": 26.949505942486482,
          "overall_tps": 26.949505942486482,
          "output_tokens": 64,
          "input_tokens": 1449,
          "cache_created": 0,
          "cache_read": 0,
          "memory_before_mb": 0.0,
          "memory_after_mb": 0.0,
          "peak_memory_mb": 0.0,
          "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
          "error": null
        },
        "warm": {
          "scenario": "",
          "config": "",
          "ttft_ms": 2493.871916027274,
          "e2e_ms": 2493.871916027274,
          "itl_mean_ms": 0.0,
          "itl_p95_ms": 0.0,
          "itl_p99_ms": 0.0,
          "tpot_ms": 38.966748687926156,
          "decode_tps": 25.662905776633345,
          "overall_tps": 25.662905776633345,
          "output_tokens": 64,
          "input_tokens": 1449,
          "cache_created": 0,
          "cache_read": 0,
          "memory_before_mb": 0.0,
          "memory_after_mb": 0.0,
          "peak_memory_mb": 0.0,
          "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
          "error": null
        },
        "speedup": 0.9522588588971205
      },
      "stats": {
        "cold_e2e_ms": {
          "mean": 2374.8116249917075,
          "median": 2374.8116249917075,
          "p95": 2374.8116249917075,
          "p99": 2374.8116249917075
        },
        "warm_e2e_ms": {
          "mean": 2493.871916027274,
          "median": 2493.871916027274,
          "p95": 2493.871916027274,
          "p99": 2493.871916027274
        },
        "speedup": {
          "mean": 0.9522588588971205,
          "median": 0.9522588588971205,
          "p95": 0.9522588588971205,
          "p99": 0.9522588588971205
        }
      }
    },
    "3_multi_turn": {
      "multiturn_r0": {
        "turns": [
          {
            "scenario": "turn_0",
            "config": "semantic",
            "ttft_ms": 2339.737625035923,
            "e2e_ms": 2339.737625035923,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 36.5584003911863,
            "decode_tps": 27.353494389789702,
            "overall_tps": 27.353494389789702,
            "output_tokens": 64,
            "input_tokens": 1449,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
            "error": null
          },
          {
            "scenario": "turn_1",
            "config": "semantic",
            "ttft_ms": 1213.8213330181316,
            "e2e_ms": 1213.8213330181316,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 18.965958328408306,
            "decode_tps": 52.726046460944836,
            "overall_tps": 52.726046460944836,
            "output_tokens": 64,
            "input_tokens": 1525,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "Certainly! Let's delve deeper into the concept of the block-based KV cache architecture and how it operates in more detail.\n\n### Block-Based KV Cache Architecture\n\nIn this architecture, data is organized into fixed-size blocks, each of which contains a specific number of key-value pairs. These",
            "error": null
          },
          {
            "scenario": "turn_2",
            "config": "semantic",
            "ttft_ms": 1230.8651250205003,
            "e2e_ms": 1230.8651250205003,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 19.232267578445317,
            "decode_tps": 51.995948783530665,
            "overall_tps": 51.995948783530665,
            "output_tokens": 64,
            "input_tokens": 1601,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "Certainly! Let's continue with the explanation of the block-based KV (key-value) cache architecture.\n\n### Block-Based KV Cache Architecture\n\nIn this architecture, data is organized into fixed-size blocks, each of which contains a specific number of key-value pairs. These blocks are allocated",
            "error": null
          }
        ]
      },
      "stats": {
        "turn_0": {
          "e2e_ms": {
            "mean": 2339.737625035923,
            "median": 2339.737625035923,
            "p95": 2339.737625035923,
            "p99": 2339.737625035923
          },
          "decode_tps": {
            "mean": 27.353494389789702,
            "median": 27.353494389789702,
            "p95": 27.353494389789702,
            "p99": 27.353494389789702
          }
        },
        "turn_1": {
          "e2e_ms": {
            "mean": 1213.8213330181316,
            "median": 1213.8213330181316,
            "p95": 1213.8213330181316,
            "p99": 1213.8213330181316
          },
          "decode_tps": {
            "mean": 52.726046460944836,
            "median": 52.726046460944836,
            "p95": 52.726046460944836,
            "p99": 52.726046460944836
          }
        },
        "turn_2": {
          "e2e_ms": {
            "mean": 1230.8651250205003,
            "median": 1230.8651250205003,
            "p95": 1230.8651250205003,
            "p99": 1230.8651250205003
          },
          "decode_tps": {
            "mean": 51.995948783530665,
            "median": 51.995948783530665,
            "p95": 51.995948783530665,
            "p99": 51.995948783530665
          }
        }
      }
    },
    "4_output_scaling": {
      "output_16": {
        "runs": [
          {
            "scenario": "output_16",
            "config": "semantic",
            "ttft_ms": 1069.4992910139263,
            "e2e_ms": 1069.4992910139263,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 66.84370568837039,
            "decode_tps": 14.960271721948864,
            "overall_tps": 14.960271721948864,
            "output_tokens": 16,
            "input_tokens": 728,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of",
            "error": null
          }
        ],
        "stats": {
          "e2e_ms": {
            "mean": 1069.4992910139263,
            "median": 1069.4992910139263,
            "p95": 1069.4992910139263,
            "p99": 1069.4992910139263
          },
          "tpot_ms": {
            "mean": 66.84370568837039,
            "median": 66.84370568837039,
            "p95": 66.84370568837039,
            "p99": 66.84370568837039
          },
          "decode_tps": {
            "mean": 14.960271721948864,
            "median": 14.960271721948864,
            "p95": 14.960271721948864,
            "p99": 14.960271721948864
          }
        }
      },
      "output_64": {
        "runs": [
          {
            "scenario": "output_64",
            "config": "semantic",
            "ttft_ms": 1518.7314169597812,
            "e2e_ms": 1518.7314169597812,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 23.73017838999658,
            "decode_tps": 42.14043331513885,
            "overall_tps": 42.14043331513885,
            "output_tokens": 64,
            "input_tokens": 728,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
            "error": null
          }
        ],
        "stats": {
          "e2e_ms": {
            "mean": 1518.7314169597812,
            "median": 1518.7314169597812,
            "p95": 1518.7314169597812,
            "p99": 1518.7314169597812
          },
          "tpot_ms": {
            "mean": 23.73017838999658,
            "median": 23.73017838999658,
            "p95": 23.73017838999658,
            "p99": 23.73017838999658
          },
          "decode_tps": {
            "mean": 42.14043331513885,
            "median": 42.14043331513885,
            "p95": 42.14043331513885,
            "p99": 42.14043331513885
          }
        }
      },
      "output_256": {
        "runs": [
          {
            "scenario": "output_256",
            "config": "semantic",
            "ttft_ms": 2060.6945420149714,
            "e2e_ms": 2060.6945420149714,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 17.17245451679143,
            "decode_tps": 58.23279363018188,
            "overall_tps": 58.23279363018188,
            "output_tokens": 120,
            "input_tokens": 728,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests, the cache is loaded from disk and reconstructed into quantized KV blocks. This design enables efficient memory management while preserving semantic context across conversations. The prefill phase processes input tokens in adaptive chunks to bound peak memory usage during long-context inference on Apple Silicon.",
            "error": null
          }
        ],
        "stats": {
          "e2e_ms": {
            "mean": 2060.6945420149714,
            "median": 2060.6945420149714,
            "p95": 2060.6945420149714,
            "p99": 2060.6945420149714
          },
          "tpot_ms": {
            "mean": 17.17245451679143,
            "median": 17.17245451679143,
            "p95": 17.17245451679143,
            "p99": 17.17245451679143
          },
          "decode_tps": {
            "mean": 58.23279363018188,
            "median": 58.23279363018188,
            "p95": 58.23279363018188,
            "p99": 58.23279363018188
          }
        }
      }
    },
    "5_concurrent": {
      "concurrent_r0": {
        "wall_ms": 4200.4022499895655,
        "system_tps": 30.473271934924323,
        "total_output_tokens": 128,
        "per_request": [
          {
            "scenario": "",
            "config": "",
            "ttft_ms": 4200.285834027454,
            "e2e_ms": 4200.285834027454,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 65.62946615667897,
            "decode_tps": 15.23705826911152,
            "overall_tps": 15.23705826911152,
            "output_tokens": 64,
            "input_tokens": 1449,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
            "error": null
          },
          {
            "scenario": "",
            "config": "",
            "ttft_ms": 4200.032041990198,
            "e2e_ms": 4200.032041990198,
            "itl_mean_ms": 0.0,
            "itl_p95_ms": 0.0,
            "itl_p99_ms": 0.0,
            "tpot_ms": 65.62550065609685,
            "decode_tps": 15.23797898686349,
            "overall_tps": 15.23797898686349,
            "output_tokens": 64,
            "input_tokens": 1449,
            "cache_created": 0,
            "cache_read": 0,
            "memory_before_mb": 0.0,
            "memory_after_mb": 0.0,
            "peak_memory_mb": 0.0,
            "raw_output": "a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization",
            "error": null
          }
        ]
      },
      "stats": {
        "wall_ms": {
          "mean": 4200.4022499895655,
          "median": 4200.4022499895655,
          "p95": 4200.4022499895655,
          "p99": 4200.4022499895655
        },
        "system_tps": {
          "mean": 30.473271934924323,
          "median": 30.473271934924323,
          "p95": 30.473271934924323,
          "p99": 30.473271934924323
        }
      }
    },
    "6_prefix_sharing": {
      "prefix_r0": {
        "prompt_a": {
          "scenario": "",
          "config": "",
          "ttft_ms": 1545.7694590440951,
          "e2e_ms": 1545.7694590440951,
          "itl_mean_ms": 0.0,
          "itl_p95_ms": 0.0,
          "itl_p99_ms": 0.0,
          "tpot_ms": 24.152647797563986,
          "decode_tps": 41.40332804839969,
          "overall_tps": 41.40332804839969,
          "output_tokens": 64,
          "input_tokens": 738,
          "cache_created": 0,
          "cache_read": 0,
          "memory_before_mb": 0.0,
          "memory_after_mb": 0.0,
          "peak_memory_mb": 0.0,
          "raw_output": "The maximum block size for the KV cache architecture described in the system's design is not explicitly stated in the provided text. However, based on the information given, we can infer that the block size is fixed and each block stores a fixed number of token key-value pairs. The text does not provide a specific number",
          "error": null
        },
        "prompt_b": {
          "scenario": "",
          "config": "",
          "ttft_ms": 975.3401670022868,
          "e2e_ms": 975.3401670022868,
          "itl_mean_ms": 0.0,
          "itl_p95_ms": 0.0,
          "itl_p99_ms": 0.0,
          "tpot_ms": 15.23969010941073,
          "decode_tps": 65.61813218121053,
          "overall_tps": 65.61813218121053,
          "output_tokens": 64,
          "input_tokens": 736,
          "cache_created": 0,
          "cache_read": 0,
          "memory_before_mb": 0.0,
          "memory_after_mb": 0.0,
          "peak_memory_mb": 0.0,
          "raw_output": "In the context of the block-based KV cache architecture you described, eviction typically refers to the process where a block of data is removed from the cache and stored on disk when the cache exceeds its capacity. This is done to make space for new data when the cache is full.\n\nHere's a simplified",
          "error": null
        }
      },
      "stats": {
        "prompt_a_e2e_ms": {
          "mean": 1545.7694590440951,
          "median": 1545.7694590440951,
          "p95": 1545.7694590440951,
          "p99": 1545.7694590440951
        },
        "prompt_b_e2e_ms": {
          "mean": 975.3401670022868,
          "median": 975.3401670022868,
          "p95": 975.3401670022868,
          "p99": 975.3401670022868
        }
      }
    }
  }
}