{
  "metadata": {
    "timestamp": "2026-01-31T21:22:09.306502+00:00",
    "model_id": "mlx-community/DeepSeek-Coder-V2-Lite-Instruct-4bit-mlx",
    "machine": {
      "os": "Darwin",
      "os_version": "25.2.0",
      "chip": "arm64"
    },
    "git_sha": "68def5d",
    "runs_per_scenario": 2,
    "quick": true
  },
  "experiments": {
    "B": {
      "B_min512_max2048": {
        "description": "Chunk bounds = [512, 2048]",
        "env": {
          "SEMANTIC_MLX_CHUNKED_PREFILL_ENABLED": "true",
          "SEMANTIC_MLX_CHUNKED_PREFILL_THRESHOLD": "2048",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MIN_CHUNK": "512",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MAX_CHUNK": "2048",
          "SEMANTIC_MLX_DEFAULT_TEMPERATURE": "0.0",
          "SEMANTIC_MLX_KV_BITS": "4",
          "SEMANTIC_MLX_MAX_CONTEXT_LENGTH": "100000",
          "SEMANTIC_MLX_MAX_BATCH_SIZE": "1",
          "SEMANTIC_MLX_SCHEDULER_ENABLED": "false",
          "SEMANTIC_MLX_PREFILL_STEP_SIZE": "256",
          "SEMANTIC_SERVER_LOG_LEVEL": "WARNING",
          "SEMANTIC_API_KEY": ""
        },
        "scenarios": {
          "chunk_min512_max2048_input4000": {
            "runs": [
              {
                "scenario": "chunk_min512_max2048_input4000",
                "config": "",
                "ttft_ms": 4512.063124973793,
                "e2e_ms": 4512.645291979425,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 4512.645291979425,
                "decode_tps": 1717.720156459702,
                "overall_tps": 1717.720156459702,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8651.8,
                "peak_memory_mb": 9575.4,
                "raw_output": " achitecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests,",
                "error": null
              },
              {
                "scenario": "chunk_min512_max2048_input4000",
                "config": "",
                "ttft_ms": 4502.477874979377,
                "e2e_ms": 4503.106541989837,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 4503.106541989837,
                "decode_tps": 1590.6672107197342,
                "overall_tps": 1590.6672107197342,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8651.8,
                "peak_memory_mb": 9575.4,
                "raw_output": " achitecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests,",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 4507.270499976585,
                "median": 4507.270499976585,
                "p95": 4511.583862474072,
                "p99": 4511.967272473848
              },
              "e2e_ms": {
                "mean": 4507.875916984631,
                "median": 4507.875916984631,
                "p95": 4512.168354479945,
                "p99": 4512.549904479529
              },
              "tpot_ms": {
                "mean": 4507.875916984631,
                "median": 4507.875916984631,
                "p95": 4512.168354479945,
                "p99": 4512.549904479529
              },
              "decode_tps": {
                "mean": 1654.1936835897181,
                "median": 1654.1936835897181,
                "p95": 1711.3675091727034,
                "p99": 1716.4496270023023
              },
              "overall_tps": {
                "mean": 1654.1936835897181,
                "median": 1654.1936835897181,
                "p95": 1711.3675091727034,
                "p99": 1716.4496270023023
              },
              "peak_memory_mb": {
                "mean": 9575.4,
                "median": 9575.4,
                "p95": 9575.4,
                "p99": 9575.4
              }
            }
          },
          "chunk_min512_max2048_input16000": {
            "runs": [
              {
                "scenario": "chunk_min512_max2048_input16000",
                "config": "",
                "ttft_ms": 19712.90262497496,
                "e2e_ms": 19713.49774999544,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 19713.49774999544,
                "decode_tps": 1680.3192028301564,
                "overall_tps": 1680.3192028301564,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 9294.7,
                "peak_memory_mb": 10202.4,
                "raw_output": " ol and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests the cache is loaded from disk and reconstructed into quantized KV blocks. This design enables efficient memory management while preserving semantic context across",
                "error": null
              },
              {
                "scenario": "chunk_min512_max2048_input16000",
                "config": "",
                "ttft_ms": 20069.3695829832,
                "e2e_ms": 20070.50062500639,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 20070.50062500639,
                "decode_tps": 884.1404470367535,
                "overall_tps": 884.1404470367535,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 9294.7,
                "peak_memory_mb": 10202.4,
                "raw_output": " ol and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests the cache is loaded from disk and reconstructed into quantized KV blocks. This design enables efficient memory management while preserving semantic context across",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 19891.13610397908,
                "median": 19891.13610397908,
                "p95": 20051.546235082787,
                "p99": 20065.804913403117
              },
              "e2e_ms": {
                "mean": 19891.999187500915,
                "median": 19891.999187500915,
                "p95": 20052.65048125584,
                "p99": 20066.93059625628
              },
              "tpot_ms": {
                "mean": 19891.999187500915,
                "median": 19891.999187500915,
                "p95": 20052.65048125584,
                "p99": 20066.93059625628
              },
              "decode_tps": {
                "mean": 1282.229824933455,
                "median": 1282.229824933455,
                "p95": 1640.510265040486,
                "p99": 1672.3574152722224
              },
              "overall_tps": {
                "mean": 1282.229824933455,
                "median": 1282.229824933455,
                "p95": 1640.510265040486,
                "p99": 1672.3574152722224
              },
              "peak_memory_mb": {
                "mean": 10202.4,
                "median": 10202.4,
                "p95": 10202.4,
                "p99": 10202.4
              }
            }
          }
        }
      },
      "B_min512_max4096": {
        "description": "Chunk bounds = [512, 4096]",
        "env": {
          "SEMANTIC_MLX_CHUNKED_PREFILL_ENABLED": "true",
          "SEMANTIC_MLX_CHUNKED_PREFILL_THRESHOLD": "2048",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MIN_CHUNK": "512",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MAX_CHUNK": "4096",
          "SEMANTIC_MLX_DEFAULT_TEMPERATURE": "0.0",
          "SEMANTIC_MLX_KV_BITS": "4",
          "SEMANTIC_MLX_MAX_CONTEXT_LENGTH": "100000",
          "SEMANTIC_MLX_MAX_BATCH_SIZE": "1",
          "SEMANTIC_MLX_SCHEDULER_ENABLED": "false",
          "SEMANTIC_MLX_PREFILL_STEP_SIZE": "256",
          "SEMANTIC_SERVER_LOG_LEVEL": "WARNING",
          "SEMANTIC_API_KEY": ""
        },
        "scenarios": {
          "chunk_min512_max4096_input4000": {
            "runs": [
              {
                "scenario": "chunk_min512_max4096_input4000",
                "config": "",
                "ttft_ms": 5100.452040962409,
                "e2e_ms": 5101.2176249641925,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 5101.2176249641925,
                "decode_tps": 1306.1923938727705,
                "overall_tps": 1306.1923938727705,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8651.8,
                "peak_memory_mb": 9900.8,
                "raw_output": " achitecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests,",
                "error": null
              },
              {
                "scenario": "chunk_min512_max4096_input4000",
                "config": "",
                "ttft_ms": 4511.445917014498,
                "e2e_ms": 4512.026500015054,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 4512.026500015054,
                "decode_tps": 1722.4066137709362,
                "overall_tps": 1722.4066137709362,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8651.8,
                "peak_memory_mb": 9900.9,
                "raw_output": " achitecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests,",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 4805.948978988454,
                "median": 4805.948978988454,
                "p95": 5071.001734765014,
                "p99": 5094.56197972293
              },
              "e2e_ms": {
                "mean": 4806.622062489623,
                "median": 4806.622062489623,
                "p95": 5071.758068716736,
                "p99": 5095.325713714701
              },
              "tpot_ms": {
                "mean": 4806.622062489623,
                "median": 4806.622062489623,
                "p95": 5071.758068716736,
                "p99": 5095.325713714701
              },
              "decode_tps": {
                "mean": 1514.2995038218532,
                "median": 1514.2995038218532,
                "p95": 1701.595902776028,
                "p99": 1718.2444715719546
              },
              "overall_tps": {
                "mean": 1514.2995038218532,
                "median": 1514.2995038218532,
                "p95": 1701.595902776028,
                "p99": 1718.2444715719546
              },
              "peak_memory_mb": {
                "mean": 9900.849999999999,
                "median": 9900.849999999999,
                "p95": 9900.895,
                "p99": 9900.899
              }
            }
          },
          "chunk_min512_max4096_input16000": {
            "runs": [
              {
                "scenario": "chunk_min512_max4096_input16000",
                "config": "",
                "ttft_ms": 19614.923666988034,
                "e2e_ms": 19615.590333996806,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 19615.590333996806,
                "decode_tps": 1499.999230262287,
                "overall_tps": 1499.999230262287,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 9294.7,
                "peak_memory_mb": 10674.5,
                "raw_output": " ol and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests the cache is loaded from disk and reconstructed into quantized KV blocks. This design enables efficient memory management while preserving semantic context across",
                "error": null
              },
              {
                "scenario": "chunk_min512_max4096_input16000",
                "config": "",
                "ttft_ms": 20071.162582957186,
                "e2e_ms": 20072.25029100664,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 20072.25029100664,
                "decode_tps": 919.3643464366761,
                "overall_tps": 919.3643464366761,
                "output_tokens": 1,
                "input_tokens": 0,
                "cache_created": 0,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 9294.7,
                "peak_memory_mb": 10674.5,
                "raw_output": " ol and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity the least recently used agent is evicted to disk via safetensors serialization. On subsequent requests the cache is loaded from disk and reconstructed into quantized KV blocks. This design enables efficient memory management while preserving semantic context across",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 19843.04312497261,
                "median": 19843.04312497261,
                "p95": 20048.35063715873,
                "p99": 20066.600193797494
              },
              "e2e_ms": {
                "mean": 19843.920312501723,
                "median": 19843.920312501723,
                "p95": 20049.417293156148,
                "p99": 20067.68369143654
              },
              "tpot_ms": {
                "mean": 19843.920312501723,
                "median": 19843.920312501723,
                "p95": 20049.417293156148,
                "p99": 20067.68369143654
              },
              "decode_tps": {
                "mean": 1209.6817883494816,
                "median": 1209.6817883494816,
                "p95": 1470.9674860710065,
                "p99": 1494.192881424031
              },
              "overall_tps": {
                "mean": 1209.6817883494816,
                "median": 1209.6817883494816,
                "p95": 1470.9674860710065,
                "p99": 1494.192881424031
              },
              "peak_memory_mb": {
                "mean": 10674.5,
                "median": 10674.5,
                "p95": 10674.5,
                "p99": 10674.5
              }
            }
          }
        }
      }
    }
  }
}