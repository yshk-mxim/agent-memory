{
  "metadata": {
    "timestamp": "2026-01-31T21:45:49.683916+00:00",
    "model_id": "mlx-community/DeepSeek-Coder-V2-Lite-Instruct-4bit-mlx",
    "machine": {
      "os": "Darwin",
      "os_version": "25.2.0",
      "chip": "arm64"
    },
    "git_sha": "dea5835",
    "runs_per_scenario": 2,
    "quick": true
  },
  "experiments": {
    "C": {
      "C_batch1": {
        "description": "Batch size = 1",
        "env": {
          "SEMANTIC_MLX_CHUNKED_PREFILL_ENABLED": "true",
          "SEMANTIC_MLX_CHUNKED_PREFILL_THRESHOLD": "2048",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MIN_CHUNK": "512",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MAX_CHUNK": "4096",
          "SEMANTIC_MLX_DEFAULT_TEMPERATURE": "0.0",
          "SEMANTIC_MLX_KV_BITS": "4",
          "SEMANTIC_MLX_MAX_CONTEXT_LENGTH": "100000",
          "SEMANTIC_MLX_MAX_BATCH_SIZE": "1",
          "SEMANTIC_MLX_SCHEDULER_ENABLED": "false",
          "SEMANTIC_MLX_PREFILL_STEP_SIZE": "256",
          "SEMANTIC_SERVER_LOG_LEVEL": "WARNING",
          "SEMANTIC_API_KEY": ""
        },
        "scenarios": {
          "batch1_input1000": {
            "runs": [
              {
                "scenario": "batch1_input1000",
                "config": "",
                "ttft_ms": 1658.520666998811,
                "e2e_ms": 1658.520666998811,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 25.914385421856423,
                "decode_tps": 38.588605661340175,
                "overall_tps": 38.588605661340175,
                "output_tokens": 64,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8491.4,
                "peak_memory_mb": 9082.6,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              },
              {
                "scenario": "batch1_input1000",
                "config": "",
                "ttft_ms": 1515.0288749719039,
                "e2e_ms": 1515.0288749719039,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 23.672326171435998,
                "decode_tps": 42.243419288749116,
                "overall_tps": 42.243419288749116,
                "output_tokens": 64,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8491.4,
                "peak_memory_mb": 9082.6,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 1586.7747709853575,
                "median": 1586.7747709853575,
                "p95": 1651.3460773974657,
                "p99": 1657.085749078542
              },
              "e2e_ms": {
                "mean": 1586.7747709853575,
                "median": 1586.7747709853575,
                "p95": 1651.3460773974657,
                "p99": 1657.085749078542
              },
              "tpot_ms": {
                "mean": 24.79335579664621,
                "median": 24.79335579664621,
                "p95": 25.8022824593354,
                "p99": 25.89196482935222
              },
              "decode_tps": {
                "mean": 40.416012475044646,
                "median": 40.416012475044646,
                "p95": 42.06067860737867,
                "p99": 42.206871152475024
              },
              "overall_tps": {
                "mean": 40.416012475044646,
                "median": 40.416012475044646,
                "p95": 42.06067860737867,
                "p99": 42.206871152475024
              },
              "peak_memory_mb": {
                "mean": 9082.6,
                "median": 9082.6,
                "p95": 9082.6,
                "p99": 9082.6
              }
            }
          }
        }
      },
      "C_batch2": {
        "description": "Batch size = 2",
        "env": {
          "SEMANTIC_MLX_CHUNKED_PREFILL_ENABLED": "true",
          "SEMANTIC_MLX_CHUNKED_PREFILL_THRESHOLD": "2048",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MIN_CHUNK": "512",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MAX_CHUNK": "4096",
          "SEMANTIC_MLX_DEFAULT_TEMPERATURE": "0.0",
          "SEMANTIC_MLX_KV_BITS": "4",
          "SEMANTIC_MLX_MAX_CONTEXT_LENGTH": "100000",
          "SEMANTIC_MLX_MAX_BATCH_SIZE": "2",
          "SEMANTIC_MLX_SCHEDULER_ENABLED": "true",
          "SEMANTIC_MLX_PREFILL_STEP_SIZE": "256",
          "SEMANTIC_SERVER_LOG_LEVEL": "WARNING",
          "SEMANTIC_API_KEY": ""
        },
        "scenarios": {
          "batch2_input1000": {
            "runs": [
              {
                "scenario": "batch2_input1000",
                "config": "",
                "ttft_ms": 2734.204459004104,
                "e2e_ms": 2734.4385419855826,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 42.72194467193913,
                "decode_tps": 46.81034078281174,
                "overall_tps": 46.81034078281174,
                "output_tokens": 128,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8431.1,
                "peak_memory_mb": 9281.6,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              },
              {
                "scenario": "batch2_input1000",
                "config": "",
                "ttft_ms": 2596.3156250072643,
                "e2e_ms": 2596.4087080210447,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 40.567431640738505,
                "decode_tps": 49.29886408275077,
                "overall_tps": 49.29886408275077,
                "output_tokens": 128,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8431.1,
                "peak_memory_mb": 9281.9,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 2665.260042005684,
                "median": 2665.260042005684,
                "p95": 2727.310017304262,
                "p99": 2732.8255706641357
              },
              "e2e_ms": {
                "mean": 2665.4236250033136,
                "median": 2665.4236250033136,
                "p95": 2727.5370502873557,
                "p99": 2733.058243645937
              },
              "tpot_ms": {
                "mean": 41.644688156338816,
                "median": 41.644688156338816,
                "p95": 42.614219020379096,
                "p99": 42.70039954162712
              },
              "decode_tps": {
                "mean": 48.05460243278125,
                "median": 48.05460243278125,
                "p95": 49.174437917753814,
                "p99": 49.27397884975138
              },
              "overall_tps": {
                "mean": 48.05460243278125,
                "median": 48.05460243278125,
                "p95": 49.174437917753814,
                "p99": 49.27397884975138
              },
              "peak_memory_mb": {
                "mean": 9281.75,
                "median": 9281.75,
                "p95": 9281.884999999998,
                "p99": 9281.897
              }
            }
          }
        }
      },
      "C_batch3": {
        "description": "Batch size = 3",
        "env": {
          "SEMANTIC_MLX_CHUNKED_PREFILL_ENABLED": "true",
          "SEMANTIC_MLX_CHUNKED_PREFILL_THRESHOLD": "2048",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MIN_CHUNK": "512",
          "SEMANTIC_MLX_CHUNKED_PREFILL_MAX_CHUNK": "4096",
          "SEMANTIC_MLX_DEFAULT_TEMPERATURE": "0.0",
          "SEMANTIC_MLX_KV_BITS": "4",
          "SEMANTIC_MLX_MAX_CONTEXT_LENGTH": "100000",
          "SEMANTIC_MLX_MAX_BATCH_SIZE": "3",
          "SEMANTIC_MLX_SCHEDULER_ENABLED": "true",
          "SEMANTIC_MLX_PREFILL_STEP_SIZE": "256",
          "SEMANTIC_SERVER_LOG_LEVEL": "WARNING",
          "SEMANTIC_API_KEY": ""
        },
        "scenarios": {
          "batch3_input1000": {
            "runs": [
              {
                "scenario": "batch3_input1000",
                "config": "",
                "ttft_ms": 3855.054959014524,
                "e2e_ms": 3855.1512499689125,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 60.235233734601934,
                "decode_tps": 49.80349344310376,
                "overall_tps": 49.80349344310376,
                "output_tokens": 192,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8431.1,
                "peak_memory_mb": 9455.3,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              },
              {
                "scenario": "batch3_input1000",
                "config": "",
                "ttft_ms": 3703.289124998264,
                "e2e_ms": 3703.518666967284,
                "itl_mean_ms": 0.0,
                "itl_p95_ms": 0.0,
                "itl_p99_ms": 0.0,
                "tpot_ms": 57.863892578097875,
                "decode_tps": 51.84259005159109,
                "overall_tps": 51.84259005159109,
                "output_tokens": 192,
                "input_tokens": 728,
                "cache_created": 728,
                "cache_read": 0,
                "memory_before_mb": 8431.1,
                "memory_after_mb": 8431.1,
                "peak_memory_mb": 9455.3,
                "raw_output": "implements a block-based KV cache architecture where each block stores a fixed number of token key-value pairs. Blocks are allocated from a shared pool and assigned per-layer per-agent. When an agent's cache exceeds the hot tier capacity, the least recently used agent is evicted to disk via safetensors",
                "error": null
              }
            ],
            "stats": {
              "ttft_ms": {
                "mean": 3779.172042006394,
                "median": 3779.172042006394,
                "p95": 3847.466667313711,
                "p99": 3853.537300674361
              },
              "e2e_ms": {
                "mean": 3779.334958468098,
                "median": 3779.334958468098,
                "p95": 3847.569620818831,
                "p99": 3853.634924138896
              },
              "tpot_ms": {
                "mean": 59.049563156349905,
                "median": 59.049563156349905,
                "p95": 60.11666667677673,
                "p99": 60.21152032303689
              },
              "decode_tps": {
                "mean": 50.823041747347425,
                "median": 50.823041747347425,
                "p95": 51.74063522116672,
                "p99": 51.82219908550621
              },
              "overall_tps": {
                "mean": 50.823041747347425,
                "median": 50.823041747347425,
                "p95": 51.74063522116672,
                "p99": 51.82219908550621
              },
              "peak_memory_mb": {
                "mean": 9455.3,
                "median": 9455.3,
                "p95": 9455.3,
                "p99": 9455.3
              }
            }
          }
        }
      }
    }
  }
}